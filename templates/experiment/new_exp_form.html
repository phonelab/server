 {% extends 'base.html' %}
 {% block title %}{% endblock %}
 {% block content %}
 <h2>Create Experiment</h2>
 <table class="table">
 	<tbody>
		<form class="form-horizontal" onsubmit="return ValidateForm(this);" method="post" action="/experiment/" enctype="multipart/form-data">
		<tr>
      		<td width="20%"><strong>Name: </strong></td>
      		<td><input type='text' name='name' id='name'/>
      		</td>
    	</tr>
    	<tr>
      		<td><strong>Description: </strong></td>
      		<td><input type='text' name='desc' id='desc'/>
      		</td>
    	</tr>
    	<tr>
      		<td><strong>Tag: </strong></td>
      		<td><input type='text' name='Tag' id='Tag'/>
      		</td>
    	</tr>
    	<tr>
    		<td><strong>Number of Devices: </strong></td>
    		<td>
        <input type='text' id='dev' name='devs'>
    	</td>
      </tr>
      <tr rowspan="4">
    		<td><strong>Applications: </strong></td>
        <td><input type='file' name='upload' id='upload' onchange="check_file()" /></td>
    	</td>
      </tr>
    </tbody>
</table>
<input type="submit" class='btn btn-primary' value="Create" />
<a onclick="history.back()" class="btn">Cancel</a>
{% endblock %}
{% block js %}
<script type="text/javascript">
  function check_file(){
    str = document.getElementById('upload').value.toUpperCase();
    suffix = ".APK";
    if(!(str.indexOf(suffix, str.length - suffix.length) !== -1)){
      alert('File type not allowed,\nAllowed file: *.apk');
      document.getElementById('upload').value='';
    }
  }

  function ValidateForm(form){
     if((form.name.value.length == 0) || (form.name.value == null)) 
     { 
       alert('Please enter name in the name field') 
       form.name.focus(); 
       return false; 
     } 
     if((form.upload.value.length == 0) || (form.name.value == null)) 
     { 
       alert('Please choose a apk file in the upload field') 
       form.name.focus(); 
       return false; 
     } 
     return true;
   }  
 
  </script>
{% endblock %}
