<!-- User Profile !-->
{% extends "base.html" %}
<script type="text/javascript">
$("#experiment").collapse({
  toggle: false
})
$('#groups').collapse({
  toggle: false
})
$('#edit').modal('{
  keyboard: false
}')
</script>
{% block title %}User Profile: {{user.username}} {% endblock %}
{% block content %}
<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3">
      <div class="well sidebar-nav">
        <ul class="nav nav-list">
          {% if user.is_authenticated %}
            <li><a href=".">Profile</a></li>
            <li><a data-toggle="collapse" href="#experiment">Experiments</li>
            {% if experiments %}
              {% for experiment in experiments %}
                <li id="experiment" style="height: 0px; "><a href="#">&nbsp;&nbsp;{{ experiment }}</a></li>
              {% endfor %}
            {% else %}
              {% if userprofile.user_type == 'L' %}
                <li id="experiment" style="height: 0px; "><a href="#">&nbsp;&nbsp;add experiment</a></li>
              {% elif userprofile.user_type == 'M' %}
                <li id="experiment" style="height: 0px; "><a>&nbsp;&nbsp;No Experiments</a></li>
              {% endif %}
            {%endif%}
              <li><a data-toggle="collapse" href="#groups">Groups</a></li>
              {% if group %}
              <li id="groups" style="height: 0px; "><a href="#">&nbsp;&nbsp;{{ group }}</a></li>
              {% else %}
              <li id="groups" style="height: 0px; ">No Groups</li>
              {% endif %}
              <li><a href="/devices">Devices</a></li>
              <li><a href="/experiments">Applications</a></li>
          {% endif %}
        </ul>
      </div>
    </div>
    <div class="span9">
      <h1>Profiles:</h1>
      <ul class="nav nav-pills">
        <li class="active">
          <a href="#userprofile" data-toggle="pill">User Profile</a>
        </li>
        <!--<li>
          <a href="#group" data-toggle="pill">Groups</a>
        </li>-->
      </ul>
      <div class="tab-content">
        <div class="tab-pane active" id="userprofile">
          <div class="well">
          {% include 'user_profile.html' %}
          </div>
        </div>
      </div>
    </div>
<h1>Device Profile:</h1>
<ul class="nav nav-tabs">
  {% for devprofile in devprofiles %}
    {% if forloop.first %}
      <li class="active"><a href="#{{forloop.counter}}" data-toggle="tab">Device #{{forloop.counter}}</a></li>
    {% else %}
      <li><a href="#{{forloop.counter}}" data-toggle="tab">Device #{{forloop.counter}}</a></li>
    {% endif %}
  {% empty %}
    <strong>You do not have a device.</strong>
  {% endfor %}
</ul>
<div class="tab-content">
  {% for devprofile in devprofiles %}
    {% if forloop.first %}
      <div class="tab-pane active" id="{{forloop.counter}}">
    {% else %}
      <div class="tab-pane" id="{{forloop.counter}}">
    {% endif %}
        <div class="well">
          <table class="table table-bordered table-striped">
            <tbody>
              <tr>
                <td width='20%'><strong>Device ID: </strong></td>
                <td><a href='/device/{{devprofile.dev}}/'>{{devprofile.dev}}</a></td>
              </tr>
              <tr>
                <td><strong>Phone No.: </strong></td>
                <td>{{devprofile.phone_no}}</td>
              </tr>
              <tr>
                <td><strong>Working: </strong></td>
                <td>{{devprofile.get_working_display}}</td>
              </tr>
              <tr>
                <td><strong>Image Version: </strong></td>
                <td>{{devprofile.image_version}}</td>
              </tr>
              <tr>
                <td><strong>Phone Purpose: </strong></td>
                <td>{{devprofile.get_phone_purpose_display}}</td>
              </tr>
              <tr>
                <td><strong>Service Type: </strong></td>
                <td>{{devprofile.get_service_type_display}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  {% endfor %}
</div>
</div>
</div>
{% endblock %}
